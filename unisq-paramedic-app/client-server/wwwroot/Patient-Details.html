<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paramedic Application</title>

    <link rel="stylesheet" href="./css/Stylesheet.css" /> 

      <link rel="stylesheet" href="./css/Welcome.css" />
</head>
  
  <body>
    
      <!-- ============================================ -->
      <!--                 Top Navigation                   -->
      <!-- ============================================ -->
      <header id="cs-navigation">
          <div class="cs-container">
              <!--Nav Logo-->
              <a href="Welcome.html" class="cs-logo" aria-label="back to home">
                  <img src="img/logo-USQ.png" alt="logo" width="210" height="500" aria-hidden="true" decoding="async">
              </a>

              <!--Navigation List-->
              <nav class="cs-nav" role="navigation">

                  <button class="cs-toggle" aria-label="mobile menu toggle">
                      <div class="cs-box" aria-hidden="true">
                          <span class="cs-line cs-line1" aria-hidden="true"></span>
                          <span class="cs-line cs-line2" aria-hidden="true"></span>
                          <span class="cs-line cs-line3" aria-hidden="true"></span>
                      </div>
                  </button>
                  <!--  wrapper div -->
                  <div class="cs-ul-wrapper">
                      <ul id="cs-expanded" class="cs-ul" aria-expanded="false">

                          <li class="cs-li">
                              <p>Student</p>
                          </li>
                          <li class="cs-li">
                              <a href="index.html" class="cs-li-link">Log-out</a>
                          </li>
                      </ul>
                  </div>
              </nav>
          </div>
      </header>

      <!-- ============================================ -->
      <!--                   Hero 81                    -->
      <!-- ============================================ -->
      <main id="main">

          <!-- ============================================ -->
          <!--                    Hero                      -->
          <!-- ============================================ -->
          <section id="side-bar">
              <nav class="cs-sidenav" role="side-navigation">
                      <ul class="sidebar-ul" >
                          <li class="cs-li">
                              <a href="Welcome.html" class="sidebar-link "> Welcome </a>
                          </li>
                          <li class="cs-li">
                              <a href="Scene-Information.html" class="sidebar-link">Scene-Information</a>
                          </li>
                          <li class="cs-li sidebar-active">
                              <a href="Patient-Details.html" class="sidebar-link  ">Patient-Details</a>
                          </li>
                          <li class="cs-li">
                              <a href="Paramedic-Assessment.html" class="sidebar-link  ">Paramedic-Assessment</a>
                          </li>
                          <li class="cs-li">
                              <a href="Management.html" class="sidebar-link  ">Management</a>
                          </li>
                          <li class="cs-li">
                              <a href="Case-Narrative.html" class="sidebar-link ">Case-Narrative</a>
                          </li>
                          <li class="cs-li">
                              <a href="Handover.html" class="sidebar-link ">Handover</a>
                          </li>
                          <li class="cs-li">
                            <a href="Generate-Report.html" class="sidebar-link ">Generate-Report</a>
                        </li>
                      </ul>
                  
              </nav>

          </section>


          <section id="hero-81">
              <div class="cs-container">
                    <h1 class="cs-topper">Patient details</h1>
                    <div class="form-container">
                        <label for="title">Title</label>
                        <select id="title" name="title">
                            <option value="Mr">Mr</option>
                            <option value="Mrs">Mrs</option>
                            <option value="Miss">Miss</option>
                            <option value="Ms">Ms</option>
                            <option value="Master">Master</option>
                            <option value="Uncle">Uncle</option>
                            <option value="Aunty">Aunty</option>
                        </select>
                      
                      <label for="firstName">First Name</label>
                      <input type="text" id="firstName" name="firstName">
                
                      <label for="lastName">Last Name</label>
                      <input type="text" id="lastName" name="lastName">
                
                    </br>
                    </br>
                      <label for="dateOfBirth">Date of Birth</label>
                      <input type="date" id="dateOfBirth" name="dateOfBirth">
                
                      <label for="age">Age</label>
                      <input type="number" id="age" name="age" readonly>
                      
                      <label for="gender">Gender</label>
                      <select id="gender" name="gender">
                          <option value="Male">Male</option>
                          <option value="Female">Female</option>
                          <option value="Other">Other</option>
                      </select>
                
                    </br>
                    </br>
                      <label for="weight">Weight</label>
                      <input type="number" id="weight" name="weight">
                
                      <label for="address">Home Address:</label>
                      <input type="address" id="address" name="address" required>
                      
                      <label for="phone">Phone Number:</label>
                      <input type="text" id="phone" name="phone" required><br><br>
                        
                        <a href="Scene-Information.html" class="cs-button-solid">Previous</a>                
                        <a href="Paramedic-Assessment.html" class="cs-button-solid" id="nextButton">Next</a>
                    </div> 
              </div>
          </section>


      </main>

      <!-- ============================================ -->
      <!--                   Footer                     -->
      <!-- ============================================ -->
      <!-- <script defer src="./JS/Navbar.js"></script>-->
      <script>
        document.getElementById('nextButton').addEventListener('click', function(event) {
            event.preventDefault(); // Prevent the default action (navigation)

            // Collect form data
            const formData = {
                title: document.getElementById('title').value,
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                dateOfBirth: document.getElementById('dateOfBirth').value,
                age: document.getElementById('age').value,
                gender: document.getElementById('gender').value,
                weight: document.getElementById('weight').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
            };

            // Store form data in localStorage
            localStorage.setItem('patientDetails', JSON.stringify(formData));

            // Redirect to the next page
            window.location.href = 'Paramedic-Assessment.html';
        });

        document.getElementById('dateOfBirth').addEventListener('change', function() {
            const dob = new Date(this.value);
            const today = new Date();
            let age = today.getFullYear() - dob.getFullYear();
            document.getElementById('age').value = age;
        });

        document.addEventListener('DOMContentLoaded', function() {
            // Retrieve the stored data from localStorage
            const patientDetails = JSON.parse(localStorage.getItem('patientDetails'));

            if (patientDetails) {
                // Populate the form fields with the retrieved data
                document.getElementById('title').value = patientDetails.title;
                document.getElementById('firstName').value = patientDetails.firstName;
                document.getElementById('lastName').value = patientDetails.lastName;
                document.getElementById('dateOfBirth').value = patientDetails.dateOfBirth;
                document.getElementById('age').value = patientDetails.age;
                document.getElementById('gender').value = patientDetails.gender;
                document.getElementById('weight').value = patientDetails.weight;
                document.getElementById('address').value = patientDetails.address;
                document.getElementById('phone').value = patientDetails.phone;
            }
        });
    </script>
  </body>
    </html>
